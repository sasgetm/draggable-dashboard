{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import CardsList from '@/components/CardsList';\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex';\nimport Card from '@/components/Card';\nimport draggable from 'vuedraggable';\n// console.log(store.state.isPostsLoading);\n\nexport default {\n  components: {\n    Card,\n    draggable\n  },\n  data() {\n    return {\n      // dialogVisible: false,\n    };\n  },\n  methods: {\n    createCard(card) {\n      this.cards.push(card);\n      // this.dialogVisible = false;\n    },\n    removeCard(card) {\n      this.cards = this.cards.filter(p => p.id !== card.id);\n    },\n    // showDialog() {\n    //   this.dialogVisible = true;\n    // },\n\n    ...mapMutations({\n      // setPage: 'post/setPage',\n      // setSearchQuery: 'post/setSearchQuery',\n      setCards: 'setCards',\n      // setSelectedSort: 'post/setSelectedSort',\n      initializeStore: 'initializeStore',\n      setDraggableEnable: 'setDraggableEnable',\n      setDraggableDisabled: 'setDraggableDisabled'\n    }),\n    ...mapActions({\n      // loadMorePosts: 'post/loadMorePosts',\n      // cards: 'cards ', \n    })\n  },\n  mounted() {\n    // this.cards();\n    this.$store.commit('initializeStore');\n    this.$store.commit('setDraggableDisabled');\n  },\n  computed: {\n    ...mapState({\n      cards: state => state.cards,\n      isDraggableDisabled: state => state.isDraggableDisabled\n      // isPostsLoading: state => state.cards.isCardsLoading,\n    }),\n    ...mapGetters({\n      // cards: 'cards',\n      // sortedAndSearchedPosts: 'post/sortedAndSearchedPosts',\n    }),\n    draggableCards: {\n      get() {\n        return this.cards;\n      },\n      set(value) {\n        this.setCards(value);\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","mapMutations","mapActions","Card","draggable","components","data","methods","createCard","card","cards","push","removeCard","filter","p","id","setCards","initializeStore","setDraggableEnable","setDraggableDisabled","mounted","$store","commit","computed","state","isDraggableDisabled","draggableCards","get","set","value"],"sources":["/Users/a123/Documents/делание/тестовые задания/2024/аналитикум плюс челябинск vue dashboard/dashboard-draggable/src/pages/Main.vue"],"sourcesContent":["<template>\n  <div class=\"app__header\">\n    <h1>Карточки можно перетаскивать</h1>\n    <div class=\"app__btns\">\n      <my-button @click=\"$router.push('/add-card')\">Добавить карточку</my-button>\n      <my-switch\n        label=\"Возможность перетаскивать карточки\"\n        turned-on=\"setDraggableEnable\"\n        turned-off=\"setDraggableDisabled\"\n      ></my-switch>\n    </div>\n  </div>\n\n  <!-- <cards-list\n    :cards=\"$store.state.cards\"\n    @remove=\"removeCard\"\n    @setCards=\"setCards\"\n  /> -->\n  <div id=\"list\">\n    <draggable\n      class=\"cards-list\"\n      v-model=\"draggableCards\"\n      group=\"cards\"\n      :disabled=\"isDraggableDisabled\"\n      item-key=\"cards._id\">\n      <template #item=\"{element}\">\n        <card\n          :card=\"element\"\n        />\n      </template>\n    </draggable>\n  </div>\n</template>\n\n<script>\n// import CardsList from '@/components/CardsList';\nimport {mapState, mapGetters, mapMutations, mapActions} from 'vuex';\nimport Card from '@/components/Card';\nimport draggable from 'vuedraggable';\n// console.log(store.state.isPostsLoading);\n\nexport default {\n  components: {\n    Card,\n    draggable,\n  },\n  data() {\n    return {\n      // dialogVisible: false,\n    }\n  },\n  methods: {\n    createCard(card) {\n      this.cards.push(card);\n      // this.dialogVisible = false;\n    },\n    removeCard(card) {\n      this.cards = this.cards.filter(p => p.id !== card.id)\n    },\n    // showDialog() {\n    //   this.dialogVisible = true;\n    // },\n\n    ...mapMutations({\n      // setPage: 'post/setPage',\n      // setSearchQuery: 'post/setSearchQuery',\n      setCards: 'setCards',\n      // setSelectedSort: 'post/setSelectedSort',\n      initializeStore: 'initializeStore',\n      setDraggableEnable: 'setDraggableEnable',\n      setDraggableDisabled: 'setDraggableDisabled',\n    }),\n    ...mapActions ({\n      // loadMorePosts: 'post/loadMorePosts',\n      // cards: 'cards ', \n    })\n  },\n  mounted() {\n    // this.cards();\n    this.$store.commit('initializeStore');\n    this.$store.commit('setDraggableDisabled');\n  },\n  computed: {\n    ...mapState ({\n      cards: state => state.cards,\n      isDraggableDisabled: state => state.isDraggableDisabled,\n      // isPostsLoading: state => state.cards.isCardsLoading,\n    }),\n    ...mapGetters ({\n      // cards: 'cards',\n      // sortedAndSearchedPosts: 'post/sortedAndSearchedPosts',\n    }),\n\n    draggableCards: {\n      get() {\n        return this.cards\n      },\n      set(value) {\n        this.setCards(value)\n      }\n    }\n  },\n}\n</script>\n\n<style>\nh1 {\n  margin-bottom: 24px;\n}\n.app__header {\n  margin-bottom: 24px;\n}\n.app__btns {\n  display: flex;\n  justify-content: space-between;\n}\n\n.cards-list {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-auto-flow: row dense;\n  gap: 24px;\n}\n.cards-list-enter-active,\n.cards-list-leave-active {\n  transition: all .3s ease;\n}\n.cards-list-enter-from,\n.cards-list-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n.cards-list-move {\n  transition: transform 0.3s ease;\n}\n</style>"],"mappings":";AAmCA;AACA,SAAQA,QAAQ,EAAEC,UAAU,EAAEC,YAAY,EAAEC,UAAU,QAAO,MAAM;AACnE,OAAOC,IAAG,MAAO,mBAAmB;AACpC,OAAOC,SAAQ,MAAO,cAAc;AACpC;;AAEA,eAAe;EACbC,UAAU,EAAE;IACVF,IAAI;IACJC;EACF,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;IAAA,CACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,IAAI,EAAE;MACf,IAAI,CAACC,KAAK,CAACC,IAAI,CAACF,IAAI,CAAC;MACrB;IACF,CAAC;IACDG,UAAUA,CAACH,IAAI,EAAE;MACf,IAAI,CAACC,KAAI,GAAI,IAAI,CAACA,KAAK,CAACG,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACC,EAAC,KAAMN,IAAI,CAACM,EAAE;IACtD,CAAC;IACD;IACA;IACA;;IAEA,GAAGd,YAAY,CAAC;MACd;MACA;MACAe,QAAQ,EAAE,UAAU;MACpB;MACAC,eAAe,EAAE,iBAAiB;MAClCC,kBAAkB,EAAE,oBAAoB;MACxCC,oBAAoB,EAAE;IACxB,CAAC,CAAC;IACF,GAAGjB,UAAS,CAAG;MACb;MACA;IAAA,CACD;EACH,CAAC;EACDkB,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,iBAAiB,CAAC;IACrC,IAAI,CAACD,MAAM,CAACC,MAAM,CAAC,sBAAsB,CAAC;EAC5C,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGxB,QAAO,CAAG;MACXW,KAAK,EAAEc,KAAI,IAAKA,KAAK,CAACd,KAAK;MAC3Be,mBAAmB,EAAED,KAAI,IAAKA,KAAK,CAACC;MACpC;IACF,CAAC,CAAC;IACF,GAAGzB,UAAS,CAAG;MACb;MACA;IAAA,CACD,CAAC;IAEF0B,cAAc,EAAE;MACdC,GAAGA,CAAA,EAAG;QACJ,OAAO,IAAI,CAACjB,KAAI;MAClB,CAAC;MACDkB,GAAGA,CAACC,KAAK,EAAE;QACT,IAAI,CAACb,QAAQ,CAACa,KAAK;MACrB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}