{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  data() {\n    return {\n      title: '',\n      description: '',\n      titleError: '',\n      descriptionError: ''\n    };\n  },\n  computed: {\n    ...mapState({\n      // formData: state => state.formData,\n    }),\n    istitleValid() {\n      return this.title.length >= 2 && this.title.length <= 16;\n    },\n    isdescriptionValid() {\n      return this.description.length >= 2 && this.description.length <= 256;\n    },\n    isSubmitDisabled() {\n      return !this.istitleValid || !this.isdescriptionValid;\n    }\n  },\n  methods: {\n    ...mapActions(['addCard']),\n    goBackToMain() {\n      this.$router.push('/');\n    },\n    handleSubmit() {\n      if (!this.isSubmitDisabled) {\n        const data = {\n          title: this.title,\n          description: this.description\n        };\n        this.addCard(data);\n        this.title = '';\n        this.description = '';\n        this.titleError = '';\n        this.descriptionError = '';\n        this.goBackToMain();\n      }\n    },\n    validatetitle() {\n      if (this.title.length < 2 || this.title.length > 16) {\n        this.titleError = 'Обязательное поле. Текст заголовка может иметь от 2 до 16 символов';\n      } else {\n        this.titleError = '';\n      }\n    },\n    validatedescription() {\n      if (this.description.length < 2 || this.description.length > 256) {\n        this.descriptionError = 'Обязательное поле. Текст описания может иметь от 2 до 256 символов';\n      } else {\n        this.descriptionError = '';\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapActions","data","title","description","titleError","descriptionError","computed","istitleValid","length","isdescriptionValid","isSubmitDisabled","methods","goBackToMain","$router","push","handleSubmit","addCard","validatetitle","validatedescription"],"sources":["/Users/a123/Documents/делание/тестовые задания/2024/аналитикум плюс челябинск vue dashboard/dashboard-draggable/src/pages/AddCard.vue"],"sourcesContent":["<template>\n  <div class=\"add-card\">\n    <h1>Добавить карточку</h1>\n    <form class=\"add-card__form\" @submit.prevent=\"handleSubmit\">\n      <div class=\"add-card__form-inputs\">\n        <div class=\"add-card__form-input-container\">\n          <my-input\n            type=\"text\"\n            v-model=\"title\"\n            id=\"title\"\n            required\n            placeholder=\"Заголовок*\"\n            @blur=\"validatetitle\"\n          />\n          <span class=\"add-card__form-error\" v-if=\"titleError\">{{ titleError }}</span>\n        </div>\n        <div class=\"add-card__form-input-container\">\n          <!-- <label for=\"description\">Описание:</label> -->\n          <my-textarea\n            v-model=\"description\"\n            id=\"description\"\n            required\n            placeholder=\"Описание*\"\n            @blur=\"validatedescription\"\n          ></my-textarea>\n          <span class=\"add-card__form-error\" v-if=\"descriptionError\">{{ descriptionError }}</span>\n        </div>\n      </div>\n\n      <div class=\"add-card__form-buttons\">\n        <my-button type=\"submit\" :disabled=\"isSubmitDisabled\">Добавить</my-button>\n        <my-button @click=\"goBackToMain\">Отмена</my-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      title: '',\n      description: '',\n      titleError: '',\n      descriptionError: '',\n    };\n  },\n  computed: {\n    ...mapState({\n      // formData: state => state.formData,\n    }),\n    istitleValid() {\n      return this.title.length >= 2 && this.title.length <= 16;\n    },\n    isdescriptionValid() {\n      return this.description.length >= 2 && this.description.length <= 256;\n    },\n    isSubmitDisabled() {\n      return !this.istitleValid || !this.isdescriptionValid;\n    },\n  },\n  methods: {\n    ...mapActions(['addCard']),\n    goBackToMain() {\n      this.$router.push('/');\n    },\n    handleSubmit() {\n      if (!this.isSubmitDisabled) {\n        const data = {\n          title: this.title,\n          description: this.description,\n        };\n        this.addCard(data);\n        this.title = '';\n        this.description = '';\n        this.titleError = '';\n        this.descriptionError = '';\n        this.goBackToMain();\n      }\n    },\n    validatetitle() {\n      if (this.title.length < 2 || this.title.length > 16) {\n        this.titleError = 'Обязательное поле. Текст заголовка может иметь от 2 до 16 символов';\n      } else {\n        this.titleError = '';\n      }\n    },\n    validatedescription() {\n      if (this.description.length < 2 || this.description.length > 256) {\n        this.descriptionError = 'Обязательное поле. Текст описания может иметь от 2 до 256 символов';\n      } else {\n        this.descriptionError = '';\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.add-card {}\n.add-card__form {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n.add-card__form-inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n.add-card__form-input-container {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.add-card__form-error {\n  font-size: 12px;\n  color: #921b3d;\n  margin-top: -8px;\n}\n.add-card__form-buttons {\n  display: flex;\n  gap: 16px;\n}\n</style>\n"],"mappings":";AAsCA,SAASA,QAAQ,EAAEC,UAAS,QAAS,MAAM;AAE3C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGP,QAAQ,CAAC;MACV;IAAA,CACD,CAAC;IACFQ,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACL,KAAK,CAACM,MAAK,IAAK,KAAK,IAAI,CAACN,KAAK,CAACM,MAAK,IAAK,EAAE;IAC1D,CAAC;IACDC,kBAAkBA,CAAA,EAAG;MACnB,OAAO,IAAI,CAACN,WAAW,CAACK,MAAK,IAAK,KAAK,IAAI,CAACL,WAAW,CAACK,MAAK,IAAK,GAAG;IACvE,CAAC;IACDE,gBAAgBA,CAAA,EAAG;MACjB,OAAO,CAAC,IAAI,CAACH,YAAW,IAAK,CAAC,IAAI,CAACE,kBAAkB;IACvD;EACF,CAAC;EACDE,OAAO,EAAE;IACP,GAAGX,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC;IAC1BY,YAAYA,CAAA,EAAG;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACxB,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC,IAAI,CAACL,gBAAgB,EAAE;QAC1B,MAAMT,IAAG,GAAI;UACXC,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,WAAW,EAAE,IAAI,CAACA;QACpB,CAAC;QACD,IAAI,CAACa,OAAO,CAACf,IAAI,CAAC;QAClB,IAAI,CAACC,KAAI,GAAI,EAAE;QACf,IAAI,CAACC,WAAU,GAAI,EAAE;QACrB,IAAI,CAACC,UAAS,GAAI,EAAE;QACpB,IAAI,CAACC,gBAAe,GAAI,EAAE;QAC1B,IAAI,CAACO,YAAY,CAAC,CAAC;MACrB;IACF,CAAC;IACDK,aAAaA,CAAA,EAAG;MACd,IAAI,IAAI,CAACf,KAAK,CAACM,MAAK,GAAI,KAAK,IAAI,CAACN,KAAK,CAACM,MAAK,GAAI,EAAE,EAAE;QACnD,IAAI,CAACJ,UAAS,GAAI,oEAAoE;MACxF,OAAO;QACL,IAAI,CAACA,UAAS,GAAI,EAAE;MACtB;IACF,CAAC;IACDc,mBAAmBA,CAAA,EAAG;MACpB,IAAI,IAAI,CAACf,WAAW,CAACK,MAAK,GAAI,KAAK,IAAI,CAACL,WAAW,CAACK,MAAK,GAAI,GAAG,EAAE;QAChE,IAAI,CAACH,gBAAe,GAAI,oEAAoE;MAC9F,OAAO;QACL,IAAI,CAACA,gBAAe,GAAI,EAAE;MAC5B;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}