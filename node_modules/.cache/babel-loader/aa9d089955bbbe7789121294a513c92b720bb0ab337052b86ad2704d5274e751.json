{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from \"vuex\";\nexport default createStore({\n  state: () => ({\n    cards: [{\n      _id: 1,\n      title: 'Chick Corea',\n      description: 'Children\\'s Song No. 6'\n    }, {\n      _id: 2,\n      title: 'Pat Metheny',\n      description: 'Antonia'\n    }],\n    isDraggable: true\n  }),\n  getters: {\n    cards(state) {\n      return state.posts;\n    }\n  },\n  mutations: {\n    setCards(state, cards) {\n      state.cards = cards;\n    },\n    initializeStore(state) {\n      try {\n        const storedState = JSON.parse(localStorage.getItem('dashboard-state'));\n        if (storedState) {\n          Object.keys(storedState).forEach(key => {\n            state[key] = storedState[key];\n          });\n        } else {\n          localStorage.setItem('dashboard-state', JSON.stringify(state));\n        }\n      } catch (e) {\n        localStorage.setItem('dashboard-state', JSON.stringify(state));\n      }\n    },\n    setDraggable(state, value) {\n      state.isDraggable = value;\n    },\n    addCard(state, data) {\n      state.cards.push(data);\n    },\n    removeCard(state, cardId) {\n      state.cards = state.cards.filter(card => card._id !== cardId);\n    }\n  },\n  actions: {\n    addCard({\n      state,\n      commit\n    }, data) {\n      const maxId = state.cards.reduce((max, obj) => obj._id > max ? obj._id : max, 0);\n      const newEntry = {\n        _id: maxId + 1,\n        ...data\n      };\n      commit('addCard', newEntry);\n    },\n    toggleDraggable({\n      commit\n    }, value) {\n      commit('setDraggable', value);\n    }\n  },\n  modules: {},\n  plugins: [store => {\n    store.subscribe((mutation, state) => {\n      localStorage.setItem('dashboard-state', JSON.stringify(state));\n    });\n  }]\n});","map":{"version":3,"names":["createStore","state","cards","_id","title","description","isDraggable","getters","posts","mutations","setCards","initializeStore","storedState","JSON","parse","localStorage","getItem","Object","keys","forEach","key","setItem","stringify","e","setDraggable","value","addCard","data","push","removeCard","cardId","filter","card","actions","commit","maxId","reduce","max","obj","newEntry","toggleDraggable","modules","plugins","store","subscribe","mutation"],"sources":["/Users/a123/Documents/делание/тестовые задания/2024/аналитикум плюс челябинск vue dashboard/dashboard-draggable/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\n\nexport default createStore ({\n  state: () => ({\n    cards: [\n      {\n        _id: 1,\n        title: 'Chick Corea',\n        description: 'Children\\'s Song No. 6',\n      },\n      {\n        _id: 2,\n        title: 'Pat Metheny',\n        description: 'Antonia',\n      },\n    ],\n    isDraggable: true,\n  }),\n  getters: {\n    cards (state) {\n      return state.posts;\n    }\n  },\n  mutations: {\n    setCards(state, cards) {\n      state.cards = cards;\n    },\n    initializeStore(state) {\n      try {\n        const storedState = JSON.parse(localStorage.getItem('dashboard-state'));\n        if (storedState) {\n          Object.keys(storedState).forEach(key => {\n            state[key] = storedState[key];\n          });\n        } else {\n          localStorage.setItem('dashboard-state', JSON.stringify(state));\n        }\n      } catch (e) {\n        localStorage.setItem('dashboard-state', JSON.stringify(state));\n      }\n    },\n    setDraggable(state, value) {\n      state.isDraggable = value;\n    },\n    addCard(state, data) {\n      state.cards.push(data);\n    },\n    removeCard(state, cardId) {\n      state.cards = state.cards.filter(card => card._id !== cardId);\n    },\n  },\n  actions: {\n    addCard ({state, commit}, data) {\n      const maxId = state.cards.reduce((max, obj) => (obj._id > max ? obj._id : max), 0);\n      const newEntry = {\n        _id: maxId + 1,\n        ...data\n      };\n      commit('addCard', newEntry);\n    },\n    toggleDraggable({ commit }, value) {\n      commit('setDraggable', value);\n    },\n  },\n  modules: {},\n  plugins: [\n    store => {\n      store.subscribe((mutation, state) => {\n        localStorage.setItem('dashboard-state', JSON.stringify(state));\n      });\n    }\n  ]\n})"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}