(function(){"use strict";var t={263:function(t,e,a){var r=a(3751),n=a(641);const i={class:"app"},s={class:"container"};function o(t,e,a,r,o,d){const l=(0,n.g2)("my-navbar"),c=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.bF)(l),(0,n.Lk)("div",s,[(0,n.bF)(c)])])}var d={},l=a(6262);const c=(0,l.A)(d,[["render",o]]);var u=c;const p=t=>((0,n.Qi)("data-v-7464d361"),t=t(),(0,n.jt)(),t),g={class:"navbar"},h={class:"container navbar__container"},b=p((()=>(0,n.Lk)("div",{class:"navbar__logo"},"Home",-1)));function m(t,e,a,r,i,s){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("div",h,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)((()=>[b])),_:1})])])}var v={name:"my-navbar"};const f=(0,l.A)(v,[["render",m],["__scopeId","data-v-7464d361"]]);var _=f;const k={class:"btn"};function C(t,e,a,r,i,s){return(0,n.uX)(),(0,n.CE)("button",k,[(0,n.RG)(t.$slots,"default",{},void 0,!0)])}var y={name:"my-button"};const E=(0,l.A)(y,[["render",C],["__scopeId","data-v-7269f484"]]);var D=E;const S=["value"];function I(t,e,a,r,i,s){return(0,n.uX)(),(0,n.CE)("input",{value:a.modelValue,onInput:e[0]||(e[0]=(...t)=>s.updateInput&&s.updateInput(...t)),class:"input",type:"text"},null,40,S)}var L={name:"my-input",props:{modelValue:[String,Number],other:[String]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const x=(0,l.A)(L,[["render",I],["__scopeId","data-v-14e9d44b"]]);var V=x;function O(t,e,a,i,s,o){return(0,n.bo)(((0,n.uX)(),(0,n.CE)("textarea",{class:"textarea","onUpdate:modelValue":e[0]||(e[0]=t=>s.textValue=t),onInput:e[1]||(e[1]=(...t)=>o.handleInput&&o.handleInput(...t))},null,544)),[[r.Jo,s.textValue]])}var w={name:"my-textarea",props:{value:[String]},data(){return{textValue:this.value}},watch:{value(t){this.textValue=t}},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)},handleInput(){this.$emit("input",this.textValue)}}};const F=(0,l.A)(w,[["render",O],["__scopeId","data-v-5a438cb0"]]);var j=F,$=a(33);const A=t=>((0,n.Qi)("data-v-7e21bb39"),t=t(),(0,n.jt)(),t),X={class:"switch"},T={class:"switch__label"},B=["checked"],M=A((()=>(0,n.Lk)("label",{class:"switch__toggle",for:"checkbox"},null,-1)));function N(t,e,a,r,i,s){return(0,n.uX)(),(0,n.CE)("div",X,[(0,n.Lk)("span",T,(0,$.v_)(a.label),1),(0,n.Lk)("input",{class:"switch__input",checked:a.isDraggable,onChange:e[0]||(e[0]=(...t)=>s.handleCheckboxChange&&s.handleCheckboxChange(...t)),id:"checkbox",type:"checkbox"},null,40,B),M])}var P={name:"my-switch",props:{label:{type:String},isDraggable:{type:Boolean,required:!0}},methods:{handleCheckboxChange(t){const e=t.target.checked;this.$emit("update:isDraggable",e)}}};const U=(0,l.A)(P,[["render",N],["__scopeId","data-v-7e21bb39"]]);var J=U,Q=[_,D,V,j,J],W=a(5220);a(4114);const q=(0,n.Lk)("div",{class:"main"},null,-1),z={class:"main__header"},H=(0,n.Lk)("h1",null,"Дашборд",-1),Y={class:"main__btns"},G={class:"main__list",id:"list"};function K(t,e,a,r,i,s){const o=(0,n.g2)("my-button"),d=(0,n.g2)("my-switch"),l=(0,n.g2)("card"),c=(0,n.g2)("draggable");return(0,n.uX)(),(0,n.CE)(n.FK,null,[q,(0,n.Lk)("div",z,[H,(0,n.Lk)("div",Y,[(0,n.bF)(o,{onClick:e[0]||(e[0]=e=>t.$router.push("/add-card"))},{default:(0,n.k6)((()=>[(0,n.eW)("Добавить карточку")])),_:1}),(0,n.bF)(d,{label:"Перетаскивать карточки",isDraggable:t.isDraggable,"onUpdate:isDraggable":s.updateIsDraggable},null,8,["isDraggable","onUpdate:isDraggable"])])]),(0,n.Lk)("div",G,[(0,n.bF)(c,{class:"cards-list",modelValue:s.draggableCards,"onUpdate:modelValue":e[1]||(e[1]=t=>s.draggableCards=t),group:"cards",disabled:!t.isDraggable,"item-key":"cards._id"},{item:(0,n.k6)((({element:t})=>[(0,n.bF)(l,{card:t},null,8,["card"])])),_:1},8,["modelValue","disabled"])])],64)}var R=a(6278);const Z={class:"card"},tt={class:"card__text"},et={class:"card__title"},at={class:"card__descrittion"},rt={class:"card__buttons"};function nt(t,e,a,r,i,s){const o=(0,n.g2)("my-button");return(0,n.uX)(),(0,n.CE)("div",Z,[(0,n.Lk)("div",tt,[(0,n.Lk)("h2",et,(0,$.v_)(a.card.title),1),(0,n.Lk)("p",at,(0,$.v_)(a.card.description),1)]),(0,n.Lk)("div",rt,[(0,n.bF)(o,{onClick:e[0]||(e[0]=e=>t.$router.push(`/cards/${a.card._id}`))},{default:(0,n.k6)((()=>[(0,n.eW)("Открыть")])),_:1}),(0,n.bF)(o,{onClick:e[1]||(e[1]=e=>t.removeCard(a.card._id))},{default:(0,n.k6)((()=>[(0,n.eW)("Удалить")])),_:1})])])}var it={props:{card:{type:Object,required:!0}},methods:{...(0,R.PY)(["removeCard"])}};const st=(0,l.A)(it,[["render",nt],["__scopeId","data-v-61a3353b"]]);var ot=st,dt=a(432),lt=a.n(dt),ct={components:{Card:ot,draggable:lt()},methods:{...(0,R.PY)({setCards:"setCards",initializeStore:"initializeStore",setDraggableEnable:"setDraggableEnable"}),...(0,R.i0)({toggleDraggable:"toggleDraggable"}),updateIsDraggable(t){this.toggleDraggable(t)}},mounted(){this.$store.commit("initializeStore")},computed:{...(0,R.aH)({cards:t=>t.cards,isDraggable:t=>t.isDraggable}),draggableCards:{get(){return this.cards},set(t){this.setCards(t)}}}};const ut=(0,l.A)(ct,[["render",K]]);var pt=ut;const gt=t=>((0,n.Qi)("data-v-03cd851f"),t=t(),(0,n.jt)(),t),ht={class:"add-card"},bt=gt((()=>(0,n.Lk)("h1",null,"Добавить карточку",-1))),mt={class:"add-card__form-inputs"},vt={class:"add-card__form-input-container"},ft={key:0,class:"add-card__form-error"},_t={class:"add-card__form-input-container"},kt={key:0,class:"add-card__form-error"},Ct={class:"add-card__form-buttons"};function yt(t,e,a,i,s,o){const d=(0,n.g2)("my-input"),l=(0,n.g2)("my-textarea"),c=(0,n.g2)("my-button"),u=(0,n.gN)("focus");return(0,n.uX)(),(0,n.CE)("div",ht,[bt,(0,n.Lk)("form",{class:"add-card__form",onSubmit:e[2]||(e[2]=(0,r.D$)(((...t)=>o.handleSubmit&&o.handleSubmit(...t)),["prevent"]))},[(0,n.Lk)("div",mt,[(0,n.Lk)("div",vt,[(0,n.bo)((0,n.bF)(d,{type:"text",modelValue:s.title,"onUpdate:modelValue":e[0]||(e[0]=t=>s.title=t),id:"title",required:"",placeholder:"Заголовок*",onBlur:o.validatetitle},null,8,["modelValue","onBlur"]),[[u]]),s.titleError?((0,n.uX)(),(0,n.CE)("span",ft,(0,$.v_)(s.titleError),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",_t,[(0,n.bF)(l,{modelValue:s.description,"onUpdate:modelValue":e[1]||(e[1]=t=>s.description=t),id:"description",required:"",placeholder:"Описание*",onBlur:o.validatedescription},null,8,["modelValue","onBlur"]),s.descriptionError?((0,n.uX)(),(0,n.CE)("span",kt,(0,$.v_)(s.descriptionError),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Ct,[(0,n.bF)(c,{type:"submit",disabled:o.isSubmitDisabled},{default:(0,n.k6)((()=>[(0,n.eW)("Добавить")])),_:1},8,["disabled"]),(0,n.bF)(c,{onClick:o.goBackToMain},{default:(0,n.k6)((()=>[(0,n.eW)("Отмена")])),_:1},8,["onClick"])])],32)])}var Et={data(){return{title:"",description:"",titleError:"",descriptionError:""}},computed:{istitleValid(){return this.title.length>=2&&this.title.length<=16},isdescriptionValid(){return this.description.length>=2&&this.description.length<=256},isSubmitDisabled(){return!this.istitleValid||!this.isdescriptionValid}},methods:{...(0,R.i0)(["addCard"]),goBackToMain(){this.$router.push("/")},handleSubmit(){if(!this.isSubmitDisabled){const t={title:this.title,description:this.description};this.addCard(t),this.title="",this.description="",this.titleError="",this.descriptionError="",this.goBackToMain()}},validatetitle(){this.title.length<2||this.title.length>16?this.titleError="Обязательное поле. Текст заголовка может иметь от 2 до 16 символов":this.titleError=""},validatedescription(){this.description.length<2||this.description.length>256?this.descriptionError="Обязательное поле. Текст описания может иметь от 2 до 256 символов":this.descriptionError=""}}};const Dt=(0,l.A)(Et,[["render",yt],["__scopeId","data-v-03cd851f"]]);var St=Dt;function It(t,e,a,r,i,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("h1",null,(0,$.v_)(s.cardTitle),1),(0,n.Lk)("p",null,(0,$.v_)(s.cardDescription),1)])}var Lt={computed:{...(0,R.aH)({cards:t=>t.cards}),cardId(){return this.$route.params.id},getElement(){return this.cards.find((t=>t._id==this.cardId))},cardTitle(){const t=this.getElement;return t?t.title:"Card not found"},cardDescription(){const t=this.getElement;return t?t.description:"Card not found"}}};const xt=(0,l.A)(Lt,[["render",It]]);var Vt=xt;const Ot=[{path:"/",component:pt},{path:"/add-card",component:St},{path:"/cards/:id",component:Vt}],wt=(0,W.aE)({routes:Ot,history:(0,W.LA)()});var Ft=wt,jt={mounted(t,e){console.log(t),t.focus()},name:"focus"},$t=[jt],At=(0,R.y$)({state:()=>({cards:[{_id:1,title:"Chick Corea",description:"Children's Song No. 6"},{_id:2,title:"Pat Metheny",description:"Antonia"}],isDraggable:!0}),getters:{cards(t){return t.posts}},mutations:{setCards(t,e){t.cards=e},initializeStore(t){try{const e=JSON.parse(localStorage.getItem("dashboard-state"));e?Object.keys(e).forEach((a=>{t[a]=e[a]})):localStorage.setItem("dashboard-state",JSON.stringify(t))}catch(e){localStorage.setItem("dashboard-state",JSON.stringify(t))}},setDraggable(t,e){t.isDraggable=e},addCard(t,e){t.cards.push(e)},removeCard(t,e){t.cards=t.cards.filter((t=>t._id!==e))}},actions:{addCard({state:t,commit:e},a){const r=t.cards.reduce(((t,e)=>e._id>t?e._id:t),0),n={_id:r+1,...a};e("addCard",n)},toggleDraggable({commit:t},e){t("setDraggable",e)}},modules:{},plugins:[t=>{t.subscribe(((t,e)=>{localStorage.setItem("dashboard-state",JSON.stringify(e))}))}]});const Xt=(0,r.Ef)(u);Q.forEach((t=>{Xt.component(t.name,t)})),$t.forEach((t=>{Xt.directive(t.name,t)})),Xt.use(Ft).use(At).mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,i){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],n=t[c][1],i=t[c][2];for(var o=!0,d=0;d<r.length;d++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[d])}))?r.splice(d--,1):(o=!1,i<s&&(s=i));if(o){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,s=r[0],o=r[1],d=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(d)var c=d(a)}for(e&&e(r);l<s.length;l++)i=s[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},r=self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(263)}));r=a.O(r)})();
//# sourceMappingURL=app.5b20ba96.js.map